"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[247],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return f}});var i=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=i.createContext({}),u=function(e){var t=i.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):n(n({},t),e)),r},l=function(e){var t=u(e.components);return i.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(r),f=a,m=p["".concat(c,".").concat(f)]||p[f]||d[f]||o;return r?i.createElement(m,n(n({ref:t},l),{},{components:r})):i.createElement(m,n({ref:t},l))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,n=new Array(o);n[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,n[1]=s;for(var u=2;u<o;u++)n[u]=r[u];return i.createElement.apply(null,n)}return i.createElement.apply(null,r)}p.displayName="MDXCreateElement"},5878:function(e,t,r){r.r(t),r.d(t,{assets:function(){return l},contentTitle:function(){return c},default:function(){return f},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return d}});var i=r(3117),a=r(102),o=(r(7294),r(3905)),n=["components"],s={id:"certificate-authorities",title:"Certificate Authorities"},c="Certificate Authorities",u={unversionedId:"guides/certificate-authorities",id:"guides/certificate-authorities",title:"Certificate Authorities",description:"Introduction",source:"@site/docs/guides/certificate-authorities.md",sourceDirName:"guides",slug:"/guides/certificate-authorities",permalink:"/docs/guides/certificate-authorities",draft:!1,editUrl:"https://github.com/webprofusion/certify-docs/edit/master/docs/guides/certificate-authorities.md",tags:[],version:"current",frontMatter:{id:"certificate-authorities",title:"Certificate Authorities"},sidebar:"docSiderbar",previous:{title:"Certificate Renewals",permalink:"/docs/renewals"},next:{title:"Certificates",permalink:"/docs/guides/certificates"}},l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Supported CAs",id:"supported-cas",level:2},{value:"Let&#39;s Encrypt",id:"lets-encrypt",level:3},{value:"ZeroSSL",id:"zerossl",level:3},{value:"BuyPass Go",id:"buypass-go",level:3},{value:"Google Cloud",id:"google-cloud",level:3},{value:"SSL .com",id:"ssl-com",level:3},{value:"Managing CA accounts",id:"managing-ca-accounts",level:2},{value:"Custom CAs (public or self-hosted)",id:"custom-cas-public-or-self-hosted",level:2},{value:"Migrating from one CA to another",id:"migrating-from-one-ca-to-another",level:2},{value:"Using untrusted root certificates (staging etc)",id:"using-untrusted-root-certificates-staging-etc",level:2}],p={toc:d};function f(e){var t=e.components,r=(0,a.Z)(e,n);return(0,o.kt)("wrapper",(0,i.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"certificate-authorities"},"Certificate Authorities"),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"For a certificate to be trusted by other computers it needs to be issued using another certificate controlled by a ",(0,o.kt)("strong",{parentName:"p"},"Certificate Authority (CA)"),". This is an organisation or service which controls the issuing of certificates. Your computer operating system update process will usually take care of maintaining a 'Trust Store' of root certificates and when your computer sees a certificate from that issuer it knows that's one of the certificates it should trust."),(0,o.kt)("p",null,"There are hundreds of publicly trusted Certificate Authorities and a subset of those implement a specification for certificate request/renewal called ",(0,o.kt)("strong",{parentName:"p"},"ACME")," (Automatic Certificate Management Environment) ",(0,o.kt)("a",{parentName:"p",href:"https://datatracker.ietf.org/doc/html/rfc8555"},"https://datatracker.ietf.org/doc/html/rfc8555")," (ACME v2). Anyone can create (and use) a new certificate authority but only recognised CAs which can prove they follow strict issuance guidelines become generally trusted. You can, for instance, create your own ACME certificate authority and trust it within your organisation, but it won't be trusted by computers outside your organisation."),(0,o.kt)("p",null,"Certify The Web supports a number of built-in CAs but you can also configure your own custom ACME CA (either public or self-hosted). Different managed certificates can be configured to use different CAs or they can all default to the same CA."),(0,o.kt)("p",null,"The certificate issuance service remains the responsibility of the Certificate Authority and we (Certify The Web operated by Webprofusion Pty Ltd) have no affiliation to their organisation or any control over their service. ",(0,o.kt)("strong",{parentName:"p"},"Our software makes the process easier and automates how you acquire and use the certificates. We are not a Certificate Authority.")," Using Certify to request a certificate from a CA also means you accept the CAs current service privacy policy, and their terms and conditions."),(0,o.kt)("h2",{id:"supported-cas"},"Supported CAs"),(0,o.kt)("p",null,"Support for the following certificate authorities is included by default:"),(0,o.kt)("h3",{id:"lets-encrypt"},"Let's Encrypt"),(0,o.kt)("p",null,"Let's Encrypt are possibly the most well-known automated certificate authority, having pioneered the process for free, trusted and automated certificates. You can find out more details about them at ",(0,o.kt)("a",{parentName:"p",href:"https://letsencrypt.org"},"https://letsencrypt.org")," "),(0,o.kt)("p",null,"They offer a free, automated, and open certificate authority brought to you by the nonprofit Internet Security Research Group (ISRG) ",(0,o.kt)("a",{parentName:"p",href:"https://www.abetterinternet.org/"},"https://www.abetterinternet.org/")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Trusted by all major operating systems and browsers"),(0,o.kt)("li",{parentName:"ul"},"Certificates issued by Let's Encrypt expire after 90 days, which means you need automated renewals to keep them active."),(0,o.kt)("li",{parentName:"ul"},"Important rate limits apply: ",(0,o.kt)("a",{parentName:"li",href:"https://letsencrypt.org/docs/rate-limits/"},"https://letsencrypt.org/docs/rate-limits/")),(0,o.kt)("li",{parentName:"ul"},"Certificates can contain up to 100 domain per certificates. Wildcard certificates (*.domain.com) are supported when using DNS validation. "),(0,o.kt)("li",{parentName:"ul"},"See information on the ",(0,o.kt)("a",{parentName:"li",href:"/docs/kb/kb-202109-letsencrypt"},"Sept 2021 root expiry"))),(0,o.kt)("h3",{id:"zerossl"},"ZeroSSL"),(0,o.kt)("p",null,"ZeroSSL (",(0,o.kt)("a",{parentName:"p",href:"https://zerossl.com/"},"https://zerossl.com/"),") is an ACME service operated by apilayer (",(0,o.kt)("a",{parentName:"p",href:"https://apilayer.com/"},"https://apilayer.com/"),")."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Trusted by all major operating systems and browsers"),(0,o.kt)("li",{parentName:"ul"},"Certificates expire after 90 days."),(0,o.kt)("li",{parentName:"ul"},"Certificates can contain up to 100 domain per certificates. Wildcard certificates (*.domain.com) are supported when using DNS validation. "),(0,o.kt)("li",{parentName:"ul"},"To use ZeroSSL you first need to sign up for a free account in order to get External Account Binding (EAB) credentials from the ",(0,o.kt)("em",{parentName:"li"},"Developer")," section of their dashboard. This EAB credential can only be used once and subsequent account registrations (on other servers etc) require a new EAB to be generated.")),(0,o.kt)("h3",{id:"buypass-go"},"BuyPass Go"),(0,o.kt)("p",null,"BuyPass are a Scandinavian certificate authority who also offer free certificates via their own ACME enabled service. ",(0,o.kt)("a",{parentName:"p",href:"https://www.buypass.com/ssl/products/acme"},"https://www.buypass.com/ssl/products/acme")," "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Trusted by all major operating systems and browsers"),(0,o.kt)("li",{parentName:"ul"},"Certificates expire after 180 days."),(0,o.kt)("li",{parentName:"ul"},"Important rate limits apply: ",(0,o.kt)("a",{parentName:"li",href:"https://community.buypass.com/t/m2r5cj/rate-limits"},"https://community.buypass.com/t/m2r5cj/rate-limits")),(0,o.kt)("li",{parentName:"ul"},"Certificates can contain up to 5 domains. Wildcard certificates are not supported.")),(0,o.kt)("h3",{id:"google-cloud"},"Google Cloud"),(0,o.kt)("p",null,"The Google Cloud Certificate Manager is an ACME enabled public certificate service. While in beta this service requires a ",(0,o.kt)("a",{parentName:"p",href:"https://cloud.google.com/blog/products/identity-security/automate-public-certificate-lifecycle-management-via--acme-client-api"},"sign up for preview"),". Certificates are valid for up-to 90 days and can contain multiple domains or wildcards."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Trusted by all major operating systems and browsers"),(0,o.kt)("li",{parentName:"ul"},"Certificates expire after 90 days (but can be configured for shorter expiry)."),(0,o.kt)("li",{parentName:"ul"},"Wildcard certificates (*.domain.com) are supported when using DNS validation. "),(0,o.kt)("li",{parentName:"ul"},"To use you first need to sign up for a Google Cloud account, create a project, register for the preview then enable the public-ca API and acquire External Account Binding (EAB) credentials. This EAB credential can only be used once and subsequent account registrations (on other servers etc) require a new EAB to be generated. For more details see ",(0,o.kt)("a",{parentName:"li",href:"https://cloud.google.com/public-certificate-authority/docs/quickstart"},"https://cloud.google.com/public-certificate-authority/docs/quickstart")," (available if you have registered for the beta preview with Google).")),(0,o.kt)("h3",{id:"ssl-com"},"SSL .com"),(0,o.kt)("p",null,"SSL .com are an established certificate Certificate Authority who now offer basic free certificates via their own ACME enabled service. ",(0,o.kt)("a",{parentName:"p",href:"https://www.ssl.com/how-to/order-free-90-day-ssl-tls-certificates-with-acme/"},"https://www.ssl.com/how-to/order-free-90-day-ssl-tls-certificates-with-acme/")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Trusted by all major operating systems and browsers"),(0,o.kt)("li",{parentName:"ul"},"Certificates expire after 90 days."),(0,o.kt)("li",{parentName:"ul"},"Certificates can contain 1 domain plus an optional www subdomain. Wildcard certificates are not supported.")),(0,o.kt)("h2",{id:"managing-ca-accounts"},"Managing CA accounts"),(0,o.kt)("p",null,"Before you can use a different Certificate Authority in Certify you first need to create a new ACME account for that service under ",(0,o.kt)("inlineCode",{parentName:"p"},"Settings")," > ",(0,o.kt)("inlineCode",{parentName:"p"},"Certificate Authorities"),". If your provider requires External Account Binding (EAB) credentials you supply these in the Advanced tab."),(0,o.kt)("p",null,"In some situations it's useful to test the certificate request process against the ",(0,o.kt)("em",{parentName:"p"},"Staging")," (test) version of a Certificate Authority. To use the staging version of your CA, add a new Certificate Authority account and select Staging from the Advanced tab. You can then request staging certificates for a particular managed certificate under ",(0,o.kt)("inlineCode",{parentName:"p"},"Certificate")," > ",(0,o.kt)("inlineCode",{parentName:"p"},"Advanced")," > ",(0,o.kt)("inlineCode",{parentName:"p"},"Certificate Authority"),". Staging certificates are not publicly trusted, so can't be used for real websites. Some CAs do not provide a Staging API."),(0,o.kt)("h2",{id:"custom-cas-public-or-self-hosted"},"Custom CAs (public or self-hosted)"),(0,o.kt)("p",null,"You can add configuration for any certificate authority system which supports the ACME V2 (RFC8555) standard. There is a basic CA editor included in the app (enabled under ",(0,o.kt)("inlineCode",{parentName:"p"},"Settings")," > ",(0,o.kt)("inlineCode",{parentName:"p"},"UI Settings")," > ",(0,o.kt)("inlineCode",{parentName:"p"},"Certificate Authority Editor"),") which can be accessed under ",(0,o.kt)("inlineCode",{parentName:"p"},"Settings")," > ",(0,o.kt)("inlineCode",{parentName:"p"},"Certificate Authorities")," > ",(0,o.kt)("inlineCode",{parentName:"p"},"Edit Certificate Authorities"),". If you are confident editing JSON text files you can also manually edit ",(0,o.kt)("inlineCode",{parentName:"p"},"C:\\ProgramData\\Certify\\ca.json")," to add custom CAs."),(0,o.kt)("h2",{id:"migrating-from-one-ca-to-another"},"Migrating from one CA to another"),(0,o.kt)("p",null,"In the event that you want to change from one Certificate Authority to another (e.g. from Let's Encrypt to BuyPass Go), you should follow this general procedure:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Add an account for the new CA if you don't have one already."),(0,o.kt)("li",{parentName:"ul"},"Perform a certificate request with a typical managed certificate",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Edit your managed certificate, choose Certificate > Advanced > Certificate Authority, choose the new CA."),(0,o.kt)("li",{parentName:"ul"},"Click 'Request Certificate' to perform the new certificate request."))),(0,o.kt)("li",{parentName:"ul"},"Evaluate that the resulting certificate works for you and your users."),(0,o.kt)("li",{parentName:"ul"},"Optionally, change the default CA (under Settings) to the new CA and either let each certificate renew individually or force the renewal, as required.")),(0,o.kt)("p",null,"Note that if bulk migrating from one CA to another you will be subject to API rate limits with the new CA, so it may not be possible to migrate large numbers of certificates in a short period of time, unless you can contact the CA to have your rate limit increased."),(0,o.kt)("h2",{id:"using-untrusted-root-certificates-staging-etc"},"Using untrusted root certificates (staging etc)"),(0,o.kt)("p",null,"When testing with 'staging' (test) accounts or other untrusted (or custom) certificate authority root certificates by default you will receive a ",(0,o.kt)("inlineCode",{parentName:"p"},"Failed to build certificate as PFX")," error. Instead, will you need to download the CAs root certificate for their staging certificate chain. You can then store it under ",(0,o.kt)("inlineCode",{parentName:"p"},"%PROGRAMDATA%\\Certify\\custom_ca_certs\\pem")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"%PROGRAMDATA%\\Certify\\custom_ca_certs\\der")," depending on the file format. If you then restart the Certify background service it will pick up this custom CA root certificate and it will be used if required to build your certificate PFX file."))}f.isMDXComponent=!0}}]);